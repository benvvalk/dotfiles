#!/bin/bash
set -eu -o pipefail

active_window_id=$(xprop -root  32x '\t$0' _NET_ACTIVE_WINDOW | cut -f2)
if [ -z "$active_window_id" ]; then
   exit 1
fi
title=$(xprop -id $active_window_id _NET_WM_NAME | cut -d'"' -f2)
new_title=$(zenity --entry --text 'set window name:' --entry-text="$title")
if [ -n "$new_title" ]; then
	wmctrl -r :ACTIVE: -N "$new_title"
fi

